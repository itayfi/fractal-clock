(this.webpackJsonpfractals=this.webpackJsonpfractals||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a(18)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(7),o=a.n(c),l=(a(15),a(16),a(2)),s=a(1),i=a(9),u={hours:!1,minutes:!0,seconds:!0,maxDepth:8,showFps:!1,color:"#00ffff"},m=r.a.createContext({});function f(e){var t=e.children,a=localStorage.getItem("fractalClockSettings"),n=r.a.useState(a?JSON.parse(a):u),c=Object(i.a)(n,2),o=c[0],f=c[1],g=r.a.useMemo((function(){var e=Object.fromEntries(Object.keys(u).map((function(e){return[e,{value:o[e],onChange:function(t){f((function(a){return Object(s.a)(Object(s.a)({},a),{},Object(l.a)({},e,t))}))}}]})));return Object(s.a)(Object(s.a)({},e),{},{raw:o})}),[o,f]);return r.a.useEffect((function(){localStorage.setItem("fractalClockSettings",JSON.stringify(o))}),[o]),r.a.createElement(m.Provider,{value:g},t)}function g(){return r.a.useContext(m)}a(17);var v=a(4);function b(e){var t=e.value,a=e.onChange,n=e.label,c=Object(v.a)(e,["value","onChange","label"]),o=r.a.useCallback((function(e){return a(e.target.checked)}),[a]);return r.a.createElement("label",null,r.a.createElement("input",Object.assign({checked:t,onChange:o,type:"checkbox"},c)),n)}function h(e){return e.target.value}function d(e){var t=e.onChange,a=e.label,n=e.valueGetter,c=void 0===n?h:n,o=Object(v.a)(e,["onChange","label","valueGetter"]),l=r.a.useCallback((function(e){return t(c(e))}),[t,c]);return r.a.createElement("label",null,a,r.a.createElement("input",Object.assign({onChange:l},o)))}function p(e){return e.target.valueAsNumber}function O(e){var t=Object.assign({},e);return r.a.createElement(d,Object.assign({type:"range",valueGetter:p,title:t.value},t))}function E(){var e=g();return r.a.createElement("div",{className:"settings-panel"},r.a.createElement(O,Object.assign({min:"1",max:"15",step:"1",label:"Max Depth"},e.maxDepth)),r.a.createElement(b,Object.assign({label:"Hours"},e.hours)),r.a.createElement(b,Object.assign({label:"Minutes"},e.minutes)),r.a.createElement(b,Object.assign({label:"Seconds"},e.seconds)),r.a.createElement(d,Object.assign({type:"color",label:"Color "},e.color)),r.a.createElement(b,Object.assign({label:"Show FPS"},e.showFps)))}var w=a(5),j=a(8),C=a.n(j);function x(e){var t,a=new OffscreenCanvas(666,666),n=new OffscreenCanvas(666,666),r=a.getContext("2d"),c=n.getContext("2d"),o=[],l=function(){var e=new Date,t=e.getSeconds()+e.getMilliseconds()/1e3,a=e.getMinutes()+t/60;return{hours:(e.getHours()+a/60)%12/12,minutes:a%60/60,seconds:t%60/60}}();for(var s in l)e[s]&&o.push((t=l[s],(new DOMMatrix).translate(333,333).scale(.7).rotate(360*t).translate(0,-100/.7).translate(-333,-333)));var i=Math.pow(.7,-e.maxDepth);c.strokeStyle=e.color;for(var u=0;u<e.maxDepth;u++){c.clearRect(0,0,666,666);var m,f=Object(w.a)(o);try{for(f.s();!(m=f.n()).done;){var g=m.value;c.setTransform(g),c.drawImage(a,0,0)}}catch(p){f.e(p)}finally{f.f()}c.setTransform(new DOMMatrix),c.lineWidth=i,c.strokeStyle=C()(e.color).setAlpha(u/e.maxDepth).toRgbString(),c.beginPath();var v,b=Object(w.a)(o);try{for(b.s();!(v=b.n()).done;){var h=v.value;c.moveTo(333,333);var d=new DOMPoint(333,333).matrixTransform(h);c.lineTo(d.x,d.y)}}catch(p){b.e(p)}finally{b.f()}c.stroke(),i*=.7,r.clearRect(0,0,666,666),r.drawImage(n,0,0)}return a.transferToImageBitmap()}function k(){var e=g().raw,t=r.a.useRef();return r.a.useEffect((function(){var a;return function n(r){!function(e,t,a){t.getContext("bitmaprenderer").transferFromImageBitmap(x(a))}(0,t.current,e),a=requestAnimationFrame(n)}(),function(){return cancelAnimationFrame(a)}}),[e]),r.a.createElement("div",{className:"clock-container"},r.a.createElement("canvas",{width:"666",height:"666",ref:t}))}var S=function(){return r.a.createElement(f,null,r.a.createElement("div",{className:"App"},r.a.createElement(E,null),r.a.createElement(k,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[10,1,2]]]);
//# sourceMappingURL=main.a331a83e.chunk.js.map